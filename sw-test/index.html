<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
  </head>

  <body>
    <div id="root">Hey</div>
  </body>
  <script>
    window.addEventListener('load', async () => {
      const reg = await navigator.serviceWorker.register(
        './service-worker.js',
      );

      console.log(reg);
      const urlBase = 'http://api.todos.com/api/v1';

      setTimeout(() => {
        fetch(`${urlBase}/labels`).then(async resp => {
          console.log(await resp.json());
          const { data: todos } = await fetch(`${urlBase}/todos`).then(r =>
            r.json(),
          );

          console.log(todos);

          const result = await fetch(`${urlBase}/todos/${todos[0].id}`, {
            method: 'PATCH',
            body: JSON.stringify({ ...todos[0], completed: true }),
          }).then(r => r.json());
        });
      }, 500);
      // fetch('/api/v1/labels');
    });
  </script>
</html>
